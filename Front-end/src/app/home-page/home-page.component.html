<app-nav-bar></app-nav-bar>

<mat-grid-list cols="12">
  <section *ngIf="!loggedIn()" class="hero" >
    <div  class="hero-inner">
      <h1>Welcome to E-Play</h1>
      <h2>Create Events,book movie tickets and much more..!!</h2>
      <p>
        <button class="btn btn-danger" mat-button mat-raised-button routerLink="/createEvent" routerLinkActive="active">Create Event</button>
      </p>
      <p>
        <button class="btn btn-info" (click)="scroll(target)" mat-button mat-raised-button>Book movies</button>
        <!-- <a href="profileasa">Book movies</a> -->
      </p>
      <!-- <a href="https://example.com/" class="btn">Go ahead...</a> -->
    </div>
  </section>
  <div *ngIf="loggedIn() && recommendedMovie!=null">
    <!-- <div *ngFor="let movie of recommendedMovie"> -->

    <div id="container">
      <div ng2-carouselamos class="slide-wrapper" [items]="items" [width]="900" [$prev]="prev" [$next]="next" [$item]="item">
      </div>

      <ng-template #prev>
        <img src="/assets/images/if_icon-ios7-arrow-back_211686.png" id="left">
      </ng-template>

      <ng-template #next>
        <img src="/assets/images/if_icon-ios7-arrow-forward_211688.png" id="right">
      </ng-template>

      <ng-template #item let-item let i="index">
        <div *ngFor="let movie of recommendedMovie" class="items">
          <a [routerLink]="['/movieinfo']" (click)="goMoviePage(movie)">
            <img class="movieposter" [width]="15000" src="{{ movie.poster }}">
          </a>
        </div>

      </ng-template>
      <h3>You might also like..</h3>
    </div>
    <!-- <div>
        <button type="reset" mat-raised-button class="btn btn-secondary" (click)="reset()">Go back to homepage</button>
      </div> -->
    <!-- </div> -->
  </div>

  <!-- <div *ngIf="rec$; else elseBlock">
    Recommendations for you..!
    <div>
        <button type="reset" mat-raised-button color="secondary" (click)="reset()">Reset</button>
      </div>
    <div *ngFor="let movie of rec$">

      <mat-grid-tile colspan="4" rowspan="6">
        <mat-card class="example-card">
          <app-event-card [name]="movie.name" [poster]="movie.poster" [city]="movie.city"></app-event-card>
          <mat-card-actions>
            <button mat-button routerLink="/movieinfo" (click)="goMoviePage(movie)">Book</button>
          </mat-card-actions>
        </mat-card>
      </mat-grid-tile>
    </div>
  </div>
  
</mat-grid-list> -->

  <!-- <mat-grid-list cols="12"> -->

  <div #target>
    <div *ngIf="rec$; else elseBlock">
      <h2>Your filtered results..</h2>
      <div align="center">
        <button type="reset" mat-raised-button class="btn btn-secondary" (click)="reset()">Reset</button>
      </div>
      <div id="container">
        <div ng2-carouselamos class="slide-wrapper" [items]="items" [width]="900" [$prev]="prev" [$next]="next" [$item]="item">
        </div>

        <ng-template #prev>
          <img src="/assets/images/if_icon-ios7-arrow-back_211686.png" id="left">
        </ng-template>

        <ng-template #next>
          <img src="/assets/images/if_icon-ios7-arrow-forward_211688.png" id="right">
        </ng-template>

        <ng-template #item let-item let i="index">
          <div *ngFor="let movie of rec$" class="items">
            <a [routerLink]="['/movieinfo']" (click)="goMoviePage(movie)">
              <img class="movieposter" src="{{ movie.poster }}">
            </a>
          </div>
        </ng-template>
      </div>

      <!-- <div *ngFor="let movie of rec$">
  
        <mat-grid-tile colspan="4" rowspan="6">
          <mat-card class="example-card">
            <app-event-card [name]="movie.name" [poster]="movie.poster" [city]="movie.city"></app-event-card>
            <mat-card-actions>
              <button mat-button routerLink="/movieinfo" (click)="goMoviePage(movie)">Book</button>
            </mat-card-actions>
          </mat-card>
        </mat-grid-tile>
      </div> -->
    </div>
    <ng-template #elseBlock>
      <mat-grid-list cols="12">
        <h3>Movies</h3>
        <div id="profileasa">
          <div class="movieCard" *ngFor="let movie of movie$">
            <mat-grid-tile colspan="4" rowspan="5">
              <a [routerLink]="['/movieinfo']" (click)="goMoviePage(movie)">
                <mat-card class="example-card">
                  <mat-card-header>
                    <!-- <div mat-card-avatar class="example-header-image"></div> -->
                    <mat-card-title>
                      <h5>{{movie.name}}</h5>
                    </mat-card-title>
                  </mat-card-header>
                  <img class="render" mat-card-image src="{{movie.poster}}" alt="movie poster">
                  <mat-card-actions>
                    <button class="btn btn-secondary" mat-button mat-raised-button>View and Book</button>
                  </mat-card-actions>
                </mat-card>
              </a>
            </mat-grid-tile>
          </div>
        </div>
      </mat-grid-list>
    </ng-template>
  </div>

  <!-- </mat-grid-list> -->
  <!-- <hr> -->
  <!-- </mat-grid-list> -->
  <!-- <mat-grid-list cols="12">
    <h1>Events</h1>
    <div *ngFor="let movie of event$">
      <mat-grid-tile colspan="4" rowspan="6">
        <mat-card class="example-card">
          <app-event-card [name]="movie.name" [poster]="movie.poster"></app-event-card>
          <mat-card-actions>
            <button mat-button mat-raised-button routerLink="/movieinfo" (click)="goMoviePage(movie)">View and Book</button>
          </mat-card-actions>
        </mat-card>
      </mat-grid-tile>
    </div>
  </mat-grid-list> -->

  <mat-grid-list cols="12">

    <h3>Events</h3>


    <div *ngFor="let movie of event$">
      <mat-grid-tile colspan="4" rowspan="5">
        <a [routerLink]="['/movieinfo']" (click)="goMoviePage(movie)">
          <mat-card class="example-card">
            <mat-card-header>
              <!-- <div mat-card-avatar class="example-header-image"></div> -->
              <mat-card-title>
                <h5>{{movie.name}}</h5>
              </mat-card-title>
            </mat-card-header>
            <img class="render" mat-card-image src="{{movie.poster}}" alt="movie poster">
            <mat-card-actions>
              <button class="btn btn-secondary" mat-button mat-raised-button routerLink="/movieinfo" (click)="goMoviePage(movie)">View and Book</button>
            </mat-card-actions>
          </mat-card>
        </a>
      </mat-grid-tile>
    </div>
  </mat-grid-list>


</mat-grid-list>